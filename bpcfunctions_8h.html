<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>bpcfunctions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>bpcfunctions.h File Reference</h1><code>#include &lt;<a class="el" href="bptypes_8h_source.html">ServiceAPI/bptypes.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="bpdefinition_8h_source.html">ServiceAPI/bpdefinition.h</a>&gt;</code><br/>

<p><a href="bpcfunctions_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_b_p_c_function_table.html">BPCFunctionTable</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a1b420eddf50e751d3d44d4a06c53bdc6">BP_DEBUG</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a3f5159692c6e3def99080a89052766c2">BP_INFO</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#aaa8ab81a052480109ada081436c00263">BP_WARN</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#aea8f4c204272795d3beb85a36fe2a323">BP_ERROR</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a5b3f931ec2e79ed430bfca9643aa1597">BP_FATAL</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a19e8c55a837eb59900e90726040afb21">BPCPostResultsFuncPtr</a> )(unsigned int tid, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a7aa541f7dab7907b001ba76584057e73">BPCPostErrorFuncPtr</a> )(unsigned int tid, const char *error, const char *verboseError)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#ab7adb42d40f7e4fb94f0c14562c114ab">BPCInvokeCallBackFuncPtr</a> )(unsigned int tid, <a class="el" href="bptypes_8h.html#ad69bf35fe68556adb11d114138283e65">BPCallBack</a> callbackHandle, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a3432e592e1a1b52f7f8d1e0ddb8727ab">BPCLogFuncPtr</a> )(unsigned int level, const char *fmt,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#abc9d353373723961b95b9751433bd25b">BPUserResponseCallbackFuncPtr</a> )(void *context, unsigned int promptId, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *response)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef unsigned int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a85997e1e422e64ea9dd07f2d92980ca6">BPCPromptUserFuncPtr</a> )(unsigned int tid, const <a class="el" href="bptypes_8h.html#a649cbcdceaebad31b9d16e0cdd9265b9">BPPath</a> pathToHTMLDialog, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *arguments, <a class="el" href="bpcfunctions_8h.html#abc9d353373723961b95b9751433bd25b">BPUserResponseCallbackFuncPtr</a> responseCallback, void *context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#aab3f1c521c69007a0a889793b99baa1f">BPCMainThreadCallbackPtr</a> )(void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bpcfunctions_8h.html#a8774811ebb0806f129bc2bdb65e08eab">BPCInvokeOnMainThreadPtr</a> )(<a class="el" href="bpcfunctions_8h.html#aab3f1c521c69007a0a889793b99baa1f">BPCMainThreadCallbackPtr</a> cb)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a1b420eddf50e751d3d44d4a06c53bdc6"></a><!-- doxytag: member="bpcfunctions.h::BP_DEBUG" ref="a1b420eddf50e751d3d44d4a06c53bdc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BP_DEBUG&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>log level argument to BPCLogFuncPtr, debug message </p>

</div>
</div>
<a class="anchor" id="aea8f4c204272795d3beb85a36fe2a323"></a><!-- doxytag: member="bpcfunctions.h::BP_ERROR" ref="aea8f4c204272795d3beb85a36fe2a323" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BP_ERROR&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>log level argument to BPCLogFuncPtr, error message </p>

</div>
</div>
<a class="anchor" id="a5b3f931ec2e79ed430bfca9643aa1597"></a><!-- doxytag: member="bpcfunctions.h::BP_FATAL" ref="a5b3f931ec2e79ed430bfca9643aa1597" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BP_FATAL&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>log level argument to BPCLogFuncPtr, fatal message </p>

</div>
</div>
<a class="anchor" id="a3f5159692c6e3def99080a89052766c2"></a><!-- doxytag: member="bpcfunctions.h::BP_INFO" ref="a3f5159692c6e3def99080a89052766c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BP_INFO&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>log level argument to BPCLogFuncPtr, informational message </p>

</div>
</div>
<a class="anchor" id="aaa8ab81a052480109ada081436c00263"></a><!-- doxytag: member="bpcfunctions.h::BP_WARN" ref="aaa8ab81a052480109ada081436c00263" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BP_WARN&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>log level argument to BPCLogFuncPtr, warning message </p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ab7adb42d40f7e4fb94f0c14562c114ab"></a><!-- doxytag: member="bpcfunctions.h::BPCInvokeCallBackFuncPtr" ref="ab7adb42d40f7e4fb94f0c14562c114ab" args=")(unsigned int tid, BPCallBack callbackHandle, const BPElement *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#ab7adb42d40f7e4fb94f0c14562c114ab">BPCInvokeCallBackFuncPtr</a>)(unsigned int tid, <a class="el" href="bptypes_8h.html#ad69bf35fe68556adb11d114138283e65">BPCallBack</a> callbackHandle, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *params)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Invoke a callback that was passed into a service function as a parameter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tid</em>&nbsp;</td><td>a transaction id passed into the service via the invocation of a BPPFunctionPtr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callbackHandle</em>&nbsp;</td><td>A callback handle attained from the original function invocation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>params</em>&nbsp;</td><td>- the argument to the callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8774811ebb0806f129bc2bdb65e08eab"></a><!-- doxytag: member="bpcfunctions.h::BPCInvokeOnMainThreadPtr" ref="a8774811ebb0806f129bc2bdb65e08eab" args=")(BPCMainThreadCallbackPtr cb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#a8774811ebb0806f129bc2bdb65e08eab">BPCInvokeOnMainThreadPtr</a>)(<a class="el" href="bpcfunctions_8h.html#aab3f1c521c69007a0a889793b99baa1f">BPCMainThreadCallbackPtr</a> cb)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A thread safe way to request that BrowserPlus invoke your service from the "main" thread, which is the thread which invokes all functions on the service.</p>
<p>This is a mechanism to allow a service to safely use the event pump of the parent process (A BrowserPlus "service" process).</p>
<p>There is no gaurantee that a callback will be delivered (especially in the shutdown case). </p>

</div>
</div>
<a class="anchor" id="a3432e592e1a1b52f7f8d1e0ddb8727ab"></a><!-- doxytag: member="bpcfunctions.h::BPCLogFuncPtr" ref="a3432e592e1a1b52f7f8d1e0ddb8727ab" args=")(unsigned int level, const char *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#a3432e592e1a1b52f7f8d1e0ddb8727ab">BPCLogFuncPtr</a>)(unsigned int level, const char *fmt,...)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Output a log a message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>the severity of the log message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmt</em>&nbsp;</td><td>a printf() style format string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>varags</em>&nbsp;</td><td>arguments to the printf() style format string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aab3f1c521c69007a0a889793b99baa1f"></a><!-- doxytag: member="bpcfunctions.h::BPCMainThreadCallbackPtr" ref="aab3f1c521c69007a0a889793b99baa1f" args=")(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#aab3f1c521c69007a0a889793b99baa1f">BPCMainThreadCallbackPtr</a>)(void)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The signature of a callback as used by the BPCInvokeOnMainThreadPtr function. </p>

</div>
</div>
<a class="anchor" id="a7aa541f7dab7907b001ba76584057e73"></a><!-- doxytag: member="bpcfunctions.h::BPCPostErrorFuncPtr" ref="a7aa541f7dab7907b001ba76584057e73" args=")(unsigned int tid, const char *error, const char *verboseError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#a7aa541f7dab7907b001ba76584057e73">BPCPostErrorFuncPtr</a>)(unsigned int tid, const char *error, const char *verboseError)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Post an asynchronous error from a called BPPFunctionPtr. Subsequent to this call, no callbacks passed as parameters to the service function may be called. This indicates the completion of the function invocation or transaction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tid</em>&nbsp;</td><td>a transaction id passed into the service via the invocation of a BPPFunctionPtr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>A string representation of an error. If NULL, a generic error will be raised. These strings should be camel cased english phrases. The service name will be prepended to the error, and it will be propogated up to the caller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verboseError</em>&nbsp;</td><td>An optional english string describing more verbosely exactly what went wrong. This is intended for developers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a19e8c55a837eb59900e90726040afb21"></a><!-- doxytag: member="bpcfunctions.h::BPCPostResultsFuncPtr" ref="a19e8c55a837eb59900e90726040afb21" args=")(unsigned int tid, const BPElement *results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#a19e8c55a837eb59900e90726040afb21">BPCPostResultsFuncPtr</a>)(unsigned int tid, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *results)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>***** BEGIN LICENSE BLOCK ***** The contents of this file are subject to the Mozilla Public License Version 1.1 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at <a href="http://www.mozilla.org/MPL/">http://www.mozilla.org/MPL/</a></p>
<p>Software distributed under the License is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language governing rights and limitations under the License.</p>
<p>The Original Code is BrowserPlus (tm).</p>
<p>The Initial Developer of the Original Code is Yahoo!. Portions created by Yahoo! are Copyright (c) 2010 Yahoo! Inc. All rights reserved.</p>
<p>Contributor(s): ***** END LICENSE BLOCK ***** Written by Lloyd Hilaiel, on or around Fri May 18 17:06:54 MDT 2007</p>
<p>BPC* functions are provided by BPCore and called by the service Post results from a called BPPFunctionPtr. Subsequent to this call, no callbacks passed as parameters to the service function may be called. This indicates the completion of the function invocation or transaction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tid</em>&nbsp;</td><td>a transaction id passed into the service via the invocation of a BPPFunctionPtr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>results</em>&nbsp;</td><td>The results of the function invocation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85997e1e422e64ea9dd07f2d92980ca6"></a><!-- doxytag: member="bpcfunctions.h::BPCPromptUserFuncPtr" ref="a85997e1e422e64ea9dd07f2d92980ca6" args=")(unsigned int tid, const BPPath pathToHTMLDialog, const BPElement *arguments, BPUserResponseCallbackFuncPtr responseCallback, void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int(* <a class="el" href="bpcfunctions_8h.html#a85997e1e422e64ea9dd07f2d92980ca6">BPCPromptUserFuncPtr</a>)(unsigned int tid, const <a class="el" href="bptypes_8h.html#a649cbcdceaebad31b9d16e0cdd9265b9">BPPath</a> pathToHTMLDialog, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *arguments, <a class="el" href="bpcfunctions_8h.html#abc9d353373723961b95b9751433bd25b">BPUserResponseCallbackFuncPtr</a> responseCallback, void *context)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prompt the end user. end user prompting must be associated with a specific transaction/method invocation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tid</em>&nbsp;</td><td>a transaction id passed into the service via the invocation of a BPPFunctionPtr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pathToHTMLDialog</em>&nbsp;</td><td>A native "wide" string holding the absolute path to the dialog you wish to display. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arguments</em>&nbsp;</td><td>The arguments to make available to the dialog via the BPDialog.args() call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>responseCallback</em>&nbsp;</td><td>A Function pointer to invoke when the response to the user prompt is available. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>a pointer to pass to the responseCallback</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A unsigned prompt ID that wil be passed to the responseCallback </dd></dl>

</div>
</div>
<a class="anchor" id="abc9d353373723961b95b9751433bd25b"></a><!-- doxytag: member="bpcfunctions.h::BPUserResponseCallbackFuncPtr" ref="abc9d353373723961b95b9751433bd25b" args=")(void *context, unsigned int promptId, const BPElement *response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="bpcfunctions_8h.html#abc9d353373723961b95b9751433bd25b">BPUserResponseCallbackFuncPtr</a>)(void *context, unsigned int promptId, const <a class="el" href="struct_b_p_element__t.html">BPElement</a> *response)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The signature of a function capable of recieving a response to a promptUser request.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>the same void * pointer passed to the BPCPromptUserFuncPtr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>promptId</em>&nbsp;</td><td>the same unsigned int returned from BPCPromptUserFuncPtr </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>response</em>&nbsp;</td><td>the user's response, a data structure mapped from javascript. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
